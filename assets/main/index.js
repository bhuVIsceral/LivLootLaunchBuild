System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,u,s,l,a,c,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,u=e._decorator,s=e.Enum,l=e.AudioClip,a=e.AudioSource,c=e.sys,S=e.Component}],execute:function(){var f,p,h,x,y,b,g,d,m,M,O,w,E,P,z,C,F,T,v,A,L;n._RF.push({},"0aec0++ls5MhJLpniF71b5j","AudioManager",void 0);var R=u.ccclass,_=u.property,G=e("ESFXType",function(e){return e[e.COIN=0]="COIN",e[e.EXPLODE=1]="EXPLODE",e[e.GLASS=2]="GLASS",e[e.POWERUP=3]="POWERUP",e[e.SHOT=4]="SHOT",e[e.STRETCH=5]="STRETCH",e}({}));s(G);e("AudioManager",(f=R("AudioManager"),p=_({type:l}),h=_({type:l}),x=_({type:l}),y=_({type:l}),b=_({type:l}),g=_({type:l}),d=_({type:l}),m=_({type:a}),M=_({type:a}),f((E=t((w=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),u=0;u<i;u++)n[u]=arguments[u];return t=e.call.apply(e,[this].concat(n))||this,r(t,"bgm",E,o(t)),r(t,"coinSfx",P,o(t)),r(t,"explodeSfx",z,o(t)),r(t,"glassSfx",C,o(t)),r(t,"powerupSfx",F,o(t)),r(t,"shotFiredSfx",T,o(t)),r(t,"stretchSfx",v,o(t)),r(t,"bgmSource",A,o(t)),r(t,"sfxSource",L,o(t)),t.isMuted=!1,t}i(t,e);var n=t.prototype;return n.onLoad=function(){var e=c.localStorage.getItem("user_is_muted");this.isMuted="true"===e,this.applyMuteState()},n.toggleMute=function(){return this.isMuted=!this.isMuted,c.localStorage.setItem("user_is_muted",this.isMuted.toString()),this.applyMuteState(),this.isMuted},n.applyMuteState=function(){this.bgmSource&&(this.bgmSource.volume=this.isMuted?0:1),this.sfxSource&&(this.sfxSource.volume=this.isMuted?0:1)},n.isCurrentlyMuted=function(){return this.isMuted},n.playBGM=function(){this.bgmSource&&this.bgm&&(this.bgmSource.clip=this.bgm,this.bgmSource.loop=!0,this.bgmSource.play())},n.stopBGM=function(){this.bgmSource&&this.bgmSource.stop()},n.playSFX=function(e){if(this.sfxSource)switch(this.sfxSource.stop(),e){case G.COIN:this.playCoinSfx();break;case G.EXPLODE:this.playExplodeSfx();break;case G.GLASS:this.playGlassSfx();break;case G.POWERUP:this.playPowerupSfx();break;case G.SHOT:this.playShotFiredSfx();break;case G.STRETCH:this.playStretchSfx()}},n.playCoinSfx=function(){this.coinSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.coinSfx,1)},n.playExplodeSfx=function(){this.explodeSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.explodeSfx,.25)},n.playGlassSfx=function(){this.glassSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.glassSfx,1)},n.playPowerupSfx=function(){this.powerupSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.powerupSfx,1)},n.playShotFiredSfx=function(){this.shotFiredSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.shotFiredSfx,1)},n.playStretchSfx=function(){this.stretchSfx&&this.sfxSource&&this.sfxSource.playOneShot(this.stretchSfx,.25)},t}(S)).prototype,"bgm",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(w.prototype,"coinSfx",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"explodeSfx",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"glassSfx",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(w.prototype,"powerupSfx",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(w.prototype,"shotFiredSfx",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"stretchSfx",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"bgmSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(w.prototype,"sfxSource",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=w))||O));n._RF.pop()}}}));

System.register("chunks:///_virtual/BallController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts","./BlockController.ts"],(function(e){var t,n,o,i,l,r,a,c,s,u,f,h,p,d,B,y,g,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.Prefab,c=e.CircleCollider2D,s=e.Contact2DType,u=e.Vec3,f=e.instantiate,h=e.ParticleSystem2D,p=e.Component},function(e){d=e.GameManager},function(e){B=e.Tagger,y=e.EObjectType},function(e){g=e.BlockController,C=e.EBlockType}],execute:function(){var b,m,v,O,P,T,E,k,D;l._RF.push({},"4dc122KGgpNF4Fjju2ykyn3","BallController",void 0);var L=r.ccclass,N=r.property;e("BallController",(b=L("BallController"),m=N({type:a}),v=N(),O=N({tooltip:"The default number of times the ball can bounce before dying."}),b((E=t((T=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=e.call.apply(e,[this].concat(l))||this).bounceCount=0,o(t,"hitEffectPrefab",E,i(t)),o(t,"particleParent",k,i(t)),o(t,"maxBounces",D,i(t)),t}n(t,e);var l=t.prototype;return l.start=function(){var e=this.getComponent(c);e?e.on(s.BEGIN_CONTACT,this.onBeginContact,this):console.error("CircleCollider2D not found on Ball!")},l.setParticleParent=function(e){this.particleParent=e.node},l.onBeginContact=function(e,t,n){if(this.node.active){var o=t.getComponent(B);if(o)switch(o.tag){case y.WALL:this.handleBounce(2,u.ZERO,!1);break;case y.FLOOR:this.killBall(2);break;case y.BLOCK:var i=t.getComponent(g);null==i||i.onHit(),(null==i?void 0:i.getBlockType())===C.STONE&&(this.maxBounces=0),(null==i?void 0:i.getBlockType())===C.BOOSTER_DOUBLE_BOUNCE&&this.maxBounces++,!0===i.isCollidable&&this.handleBounce((null==i?void 0:i.getBlockType())===C.STONE?0:2,i.node.getPosition(),!0)}}},l.handleBounce=function(e,t,n){this.bounceCount++,this.bounceCount>this.maxBounces&&(n&&this.playEffects(t),this.killBall(e))},l.killBall=function(e){var t=this;this.node.active&&this.scheduleOnce((function(){var n;t.node&&(t.node.active=!1,null==(n=d.instance)||n.onBallOutOfBounds(e),t.scheduleOnce((function(){t.node.destroy()}),0))}),0)},l.playEffects=function(e){var t=f(this.hitEffectPrefab);if(console.log(t),t){var n=t.getComponent(h);n?(n.resetSystem(),this.particleParent.addChild(t),t.setPosition(e),this.scheduleOnce((function(){t.destroy()}),n.life+n.duration)):t.destroy()}},t}(p)).prototype,"hitEffectPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(T.prototype,"particleParent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Node=null}}),D=t(T.prototype,"maxBounces",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=T))||P));l._RF.pop()}}}));

System.register("chunks:///_virtual/BlockController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./LocalizedLabel.ts","./LocalizationData.ts","./AudioManager.ts"],(function(e){var t,i,o,l,n,r,a,c,p,u,s,b,h,y,O,d,f,L,E,T,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.inheritsLoose,l=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,a=e._decorator,c=e.Enum,p=e.SpriteFrame,u=e.Component,s=e.Sprite,b=e.Label,h=e.BoxCollider2D,y=e.RigidBody2D,O=e.ParticleSystem2D,d=e.UIOpacity},function(e){f=e.GameManager},function(e){L=e.LocalizedLabel},function(e){E=e.ETextKey},function(e){T=e.AudioManager,g=e.ESFXType}],execute:function(){var _,R,S,N,B,C,m,A,M,z,k,I,w,v,F,G,P,X,U,D,x,H,K,J,j,V,W,Y,Z,q,Q,$,ee,te,ie,oe,le,ne,re,ae,ce,pe,ue,se,be,he,ye,Oe;r._RF.push({},"7ee76uIwu9J96ZkVpvRpYJx","BlockController",void 0);var de=a.ccclass,fe=a.property,Le=e("EBlockType",function(e){return e[e.NORMAL_COFFEE=0]="NORMAL_COFFEE",e[e.NORMAL_SHOPPING=1]="NORMAL_SHOPPING",e[e.NORMAL_FUEL=2]="NORMAL_FUEL",e[e.NORMAL_AIRPLANE=3]="NORMAL_AIRPLANE",e[e.NORMAL_EXCHANGE=4]="NORMAL_EXCHANGE",e[e.NORMAL_GAMING=5]="NORMAL_GAMING",e[e.BOOSTER_COIN_MAGNET=6]="BOOSTER_COIN_MAGNET",e[e.BOOSTER_DOUBLE_BOUNCE=7]="BOOSTER_DOUBLE_BOUNCE",e[e.BOOSTER_2X_MULTIPLIER=8]="BOOSTER_2X_MULTIPLIER",e[e.BOOSTER_EXTRA_COINS=9]="BOOSTER_EXTRA_COINS",e[e.STONE=10]="STONE",e}({}));c(Le);e("BlockConfig",(_=de("BlockConfig"),R=fe({type:Le,tooltip:"The type of this block."}),S=fe({type:p,tooltip:"The icon to display on the block."}),N=fe({type:E,tooltip:"Power up title"}),B=fe({type:E,tooltip:"Power up title"}),C=fe({tooltip:"The title to display on the block."}),m=fe({tooltip:"The description to display on the block."}),A=fe({tooltip:"The health/hit points for this block."}),M=fe({tooltip:"Is this block a booster type?"}),_((I=t((k=function(){i(this,"type",I,this),i(this,"icon",w,this),i(this,"titleTextKey",v,this),i(this,"descriptionTextKey",F,this),i(this,"title",G,this),i(this,"description",P,this),i(this,"health",X,this),i(this,"isCollidable",U,this)}).prototype,"type",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Le.NORMAL_COFFEE}}),w=t(k.prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(k.prototype,"titleTextKey",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=t(k.prototype,"descriptionTextKey",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=t(k.prototype,"title",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=t(k.prototype,"description",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=t(k.prototype,"health",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),U=t(k.prototype,"isCollidable",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=k))||z)),e("BlockController",(D=de("BlockController"),x=fe({type:T}),H=fe({type:Le,tooltip:"The type of this block."}),K=fe({type:[u]}),J=fe(s),j=fe({type:L,tooltip:"Localized Title Text"}),V=fe({type:L,tooltip:"Localized Description Text"}),W=fe(b),Y=fe(b),Z=fe(b),q=fe(h),Q=fe(y),$=fe(),ee=fe({type:O}),D((oe=t((ie=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,i(t,"audioManager",oe,l(t)),i(t,"blockType",le,l(t)),i(t,"neighbours",ne,l(t)),i(t,"iconSprite",re,l(t)),i(t,"titleLabelLocalized",ae,l(t)),i(t,"descriptionLabelLocalized",ce,l(t)),i(t,"titleLabel",pe,l(t)),i(t,"descriptionLabel",ue,l(t)),i(t,"healthLabel",se,l(t)),i(t,"collider",be,l(t)),i(t,"rigidBody",he,l(t)),i(t,"isCollidable",ye,l(t)),i(t,"implodeFX",Oe,l(t)),t.health=0,t}o(t,e);var r=t.prototype;return r.setupBlock=function(e){console.log(e.type),this.blockType=e.type,this.health=e.health,this.isCollidable=e.isCollidable,!1===e.isCollidable?(this.collider.group=4,this.collider.sensor=!0):(this.titleLabelLocalized.enabled=!0,this.descriptionLabelLocalized.enabled=!0,this.titleLabelLocalized.SetText(e.titleTextKey),this.descriptionLabelLocalized.SetText(e.descriptionTextKey),this.titleLabel.getComponent(d).opacity=255,this.descriptionLabel.getComponent(d).opacity=255),this.collider.apply(),this.rigidBody.group=this.collider.group,this.iconSprite&&(this.iconSprite.spriteFrame=e.icon),this.updateHealthLabel()},r.onHit=function(){var e;if(this.node.active){this.node.active=!1;var t=this.blockType===Le.BOOSTER_EXTRA_COINS?10*this.health:this.health;switch(null==(e=f.instance)||e.blockDestroyed(this,t,this.node.getPosition()),this.blockType){case Le.STONE:this.audioManager.playSFX(g.EXPLODE);break;case Le.BOOSTER_2X_MULTIPLIER:case Le.BOOSTER_COIN_MAGNET:case Le.BOOSTER_DOUBLE_BOUNCE:case Le.BOOSTER_EXTRA_COINS:this.audioManager.playSFX(g.POWERUP);break;default:this.audioManager.playSFX(g.GLASS)}this.scheduleOnce(this.activateBoosterEffect,0)}},r.activateBoosterEffect=function(){switch(this.blockType){case Le.BOOSTER_COIN_MAGNET:for(var e,i=n(this.neighbours);!(e=i()).done;){var o=e.value;o&&o.node.active&&o.getComponent(t).blockType===Le.NORMAL_GAMING&&o.getComponent(t).onHit()}break;case Le.BOOSTER_EXTRA_COINS:console.log("BOOSTER: Destroying neighbors!");break;case Le.BOOSTER_2X_MULTIPLIER:console.log("BOOSTER: Multiplying neighbor scores!");for(var l,r=n(this.neighbours);!(l=r()).done;){var a=l.value;a&&a.node.active&&a.getComponent(t).blockType===Le.NORMAL_GAMING&&a.getComponent(t).multiplyScore(2)}break;case Le.BOOSTER_DOUBLE_BOUNCE:}},r.multiplyScore=function(e){this.node.active&&(this.health*=e,this.updateHealthLabel())},r.updateHealthLabel=function(){this.healthLabel&&(this.healthLabel.string=this.health.toString()),0===this.health&&(this.healthLabel.getComponent(d).opacity=0)},r.resetBlock=function(){this.node.active=!0},r.getBlockType=function(){return this.blockType},t}(u)).prototype,"audioManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ie.prototype,"blockType",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Le.NORMAL_COFFEE}}),ne=t(ie.prototype,"neighbours",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(ie.prototype,"iconSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ie.prototype,"titleLabelLocalized",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ie.prototype,"descriptionLabelLocalized",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ie.prototype,"titleLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(ie.prototype,"descriptionLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t(ie.prototype,"healthLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ie.prototype,"collider",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ie.prototype,"rigidBody",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ie.prototype,"isCollidable",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Oe=t(ie.prototype,"implodeFX",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=ie))||te));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraShaker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,s,e,o,a,r,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,s=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,r=i.Vec3,h=i.tween,l=i.Component}],execute:function(){var u,c,p,k;o._RF.push({},"5fff3BMAx5MBbsr24JX9uBT","CameraShaker",void 0);var g=a.ccclass,y=a.property;i("CameraShaker",g("CameraShaker")((p=t((c=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,s(t,"shakeDuration",p,e(t)),s(t,"shakeIntensity",k,e(t)),t.originalPos=new r,t.isShaking=!1,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.originalPos.set(this.node.position)},o.shake=function(){var i=this;this.isShaking||(this.isShaking=!0,h(this.node).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity,this.originalPos.y+this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x-this.shakeIntensity,this.originalPos.y-this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity/2,this.originalPos.y,this.originalPos.z)}).to(this.shakeDuration/4,{position:this.originalPos}).call((function(){i.isShaking=!1})).start())},t}(l)).prototype,"shakeDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(c.prototype,"shakeIntensity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),u=c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationManager.ts","./LevelController.ts","./PlayerController.ts","./CameraShaker.ts","./AudioManager.ts","./VFXManager.ts"],(function(t){var e,n,i,r,a,o,u,l,s,c,h,g,p,f,b,m,d,y,v,I,S,M,B,L,C,w,G,U;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Prefab,l=t.Node,s=t.Label,c=t.Button,h=t.Sprite,g=t.SpriteFrame,p=t.Color,f=t.instantiate,b=t.UIOpacity,m=t.UITransform,d=t.v3,y=t.tween,v=t.director,I=t.Component},function(t){S=t.languageChangeEvent,M=t.LocalizationManager},function(t){B=t.LevelController},function(t){L=t.PlayerController},function(t){C=t.CameraShaker},function(t){w=t.AudioManager,G=t.ESFXType},function(t){U=t.VFXManager}],execute:function(){var O,P,A,T,z,N,_,k,E,R,F,V,D,x,H,W,X,Y,j,K,Q,q,J,Z,$,tt,et,nt,it,rt,at,ot,ut,lt,st,ct,ht,gt,pt,ft,bt,mt,dt,yt,vt,It,St,Mt;a._RF.push({},"74627waKRhPBpQDcs4g/uX7","GameManager",void 0);var Bt=o.ccclass,Lt=o.property,Ct=t("GameState",function(t){return t[t.NONE=0]="NONE",t[t.SPLASH=1]="SPLASH",t[t.WAITING_FOR_INPUT=2]="WAITING_FOR_INPUT",t[t.AIMING=3]="AIMING",t[t.BALL_IN_PLAY=4]="BALL_IN_PLAY",t[t.GAME_OVER=5]="GAME_OVER",t}({}));t("GameManager",(O=Bt("GameManager"),P=Lt({type:B}),A=Lt({type:L}),T=Lt({type:w}),z=Lt({type:U}),N=Lt({type:C}),_=Lt({type:u,tooltip:"Drag the scoreCard prefab here"}),k=Lt({type:l}),E=Lt({type:l}),R=Lt({type:l}),F=Lt({type:l}),V=Lt({type:s}),D=Lt(s),x=Lt(s),H=Lt({type:c}),W=Lt({type:h}),X=Lt({type:[g]}),Y=Lt({type:c}),j=Lt({type:c}),K=Lt(l),Q=Lt(l),q=Lt(l),O(((Mt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"levelController",$,r(e)),i(e,"playerController",tt,r(e)),i(e,"audioManager",et,r(e)),i(e,"vfxManager",nt,r(e)),i(e,"cameraShaker",it,r(e)),i(e,"scoreCard",rt,r(e)),i(e,"startMenu",at,r(e)),i(e,"howToPlayUI",ot,r(e)),i(e,"inGameUI",ut,r(e)),i(e,"gameOverMenu",lt,r(e)),i(e,"finalScoreLabel",st,r(e)),i(e,"totalLives",ct,r(e)),i(e,"livesLabel",ht,r(e)),i(e,"scoreLabel",gt,r(e)),i(e,"muteButton",pt,r(e)),i(e,"muteButtonSprite",ft,r(e)),i(e,"muteButtonIcons",bt,r(e)),i(e,"englishButton",mt,r(e)),i(e,"arabicButton",dt,r(e)),i(e,"floorTrigger",yt,r(e)),i(e,"blocksContainer",vt,r(e)),i(e,"scoreCardEndPosition",It,r(e)),i(e,"currentState",St,r(e)),e.currentLives=0,e.score=0,e.totalBlocks=0,e.lives=3,e.currentScoreCard=null,e}n(e,t);var a=e.prototype;return a.onLoad=function(){null===e.instance?e.instance=this:this.destroy()},a.onDestroy=function(){e.instance===this&&(e.instance=null),S.off("language-changed",this.updateLanguageButtonUIColor,this)},a.start=function(){console.log("Restart"),this.setupMuteButton(),this.setupLanguageButtons(),S.on("language-changed",this.updateLanguageButtonUIColor,this),this.updateLanguageButtonUIColor(),this.currentLives=this.totalLives,this.score=0,this.totalBlocks=0,this.updateUI(),this.setGameState(Ct.SPLASH)},a.update=function(t){},a.setupMuteButton=function(){var t=this;this.muteButton&&this.audioManager&&(this.updateMuteButtonLabel(),this.muteButton.node.on("click",(function(){t.audioManager.toggleMute(),t.updateMuteButtonLabel()}),this))},a.updateMuteButtonLabel=function(){if(this.muteButtonSprite&&this.audioManager){var t=this.audioManager.isCurrentlyMuted();this.muteButtonSprite.spriteFrame=t?this.muteButtonIcons[0]:this.muteButtonIcons[1]}},a.setupLanguageButtons=function(){this.englishButton&&this.englishButton.node.on("click",(function(){M.instance.setLanguage("en")}),this),this.arabicButton&&this.arabicButton.node.on("click",(function(){M.instance.setLanguage("ar")}),this)},a.updateLanguageButtonUIColor=function(){if(M.instance){var t=M.instance.getCurrentLanguage(),e=new p(255,200,0),n=new p(128,128,128),i=function(t){return t?t.getComponentInChildren(s):null},r=i(this.englishButton);r&&(r.color="en"===t?e:n);var a=i(this.arabicButton);a&&(a.color="ar"===t?e:n)}},a.howToPlay=function(){this.startMenu&&(this.startMenu.active=!1),this.howToPlayUI&&(this.howToPlayUI.active=!0),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!1)},a.startGame=function(){this.setGameState(Ct.WAITING_FOR_INPUT),this.score=0,this.lives=3,this.updateUI(),this.audioManager&&this.audioManager.playBGM()},a.registerBlock=function(t){t.node.name=t.blockType.toString(),this.totalBlocks++},a.setGameState=function(t){var e;if(this.currentState!==t)switch(console.log("Game State changed from "+Ct[this.currentState]+" to "+Ct[t]),this.currentState=t,this.currentState){case Ct.SPLASH:this.startMenu&&(this.startMenu.active=!0),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!1),this.muteButton&&(this.muteButton.node.active=!1);break;case Ct.WAITING_FOR_INPUT:this.startMenu&&(this.startMenu.active=!1),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!0),this.muteButton&&(this.muteButton.node.active=!0),this.currentLives>0&&(null==(e=this.playerController)||e.spawnNewBall());break;case Ct.AIMING:case Ct.BALL_IN_PLAY:break;case Ct.GAME_OVER:this.startMenu&&(this.startMenu.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!0),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.inGameUI&&(this.inGameUI.active=!1),this.muteButton&&(this.muteButton.node.active=!1),this.finalScoreLabel.string=this.score.toString(),this.levelController.generateLevel()}},a.onBallOutOfBounds=function(t){this.currentState===Ct.BALL_IN_PLAY&&(console.log("Ball is out of bounds."),this.loseLife(t))},a.loseLife=function(t){var e=this;this.currentLives--,this.updateUI(),this.currentLives<=0?this.scheduleOnce((function(){return e.gameOver(!1)}),2):this.scheduleOnce(this.prepareNextTurn,t)},a.prepareNextTurn=function(){this.setGameState(Ct.WAITING_FOR_INPUT)},a.addScore=function(t){this.score+=t},a.blockDestroyed=function(t,e,n){var i=this;this.totalBlocks--,this.addScore(e),e>0&&this.animateScoreUI(e,n),this.totalBlocks<=0&&this.scheduleOnce((function(){return i.gameOver(!0)}),2)},a.animateScoreUI=function(t,e){var n=this;if(console.log("Score Card location : "+e),this.currentState!==Ct.GAME_OVER)if(this.scoreCard){this.currentScoreCard=f(this.scoreCard),this.currentScoreCard.getComponent(s).string=t.toString(),this.cameraShaker.node.addChild(this.currentScoreCard);var i=this.currentScoreCard.getComponent(b),r=this.currentScoreCard.getComponent(m);if(i&&r){var a=e,o=this.scoreCardEndPosition.getPosition(),u=d(0,0,0),l=d(1.5,1.5,1.5);this.currentScoreCard.setPosition(a),this.currentScoreCard.setScale(u),i.opacity=0,r.priority=1001,y(this.currentScoreCard).parallel(y().to(.5,{scale:l},{easing:"cubicOut"}),y(i).to(.5,{opacity:255},{easing:"cubicOut"})).delay(1).then(y(this.currentScoreCard).parallel(y(i).to(.5,{opacity:0},{easing:"cubicIn"}),y().to(.5,{position:o},{easing:"cubicIn"}))).call((function(){n.currentScoreCard.setScale(u),n.audioManager.playSFX(G.COIN),n.scoreLabel&&(n.scoreLabel.string=n.score.toString()),y().delay(1)})).start()}else console.error("Bonus Card is missing UIOpacity or UITransform component!")}else console.error("Bonus Card node is not assigned in the GameManager!")},a.updateUI=function(){this.livesLabel&&(this.livesLabel.string="x"+this.currentLives)},a.gameOver=function(t){this.setGameState(Ct.GAME_OVER),this.audioManager&&this.audioManager.stopBGM(),t?console.log("YOU WIN!"):console.log("GAME OVER"),v.pause()},a.restartGame=function(){console.log("GAME Reload"),v.resume(),v.loadScene(v.getScene().name)},e}(I)).instance=null,$=e((Z=Mt).prototype,"levelController",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(Z.prototype,"playerController",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(Z.prototype,"audioManager",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(Z.prototype,"vfxManager",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(Z.prototype,"cameraShaker",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(Z.prototype,"scoreCard",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(Z.prototype,"startMenu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(Z.prototype,"howToPlayUI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(Z.prototype,"inGameUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(Z.prototype,"gameOverMenu",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(Z.prototype,"finalScoreLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(Z.prototype,"totalLives",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),ht=e(Z.prototype,"livesLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(Z.prototype,"scoreLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(Z.prototype,"muteButton",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(Z.prototype,"muteButtonSprite",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(Z.prototype,"muteButtonIcons",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(Z.prototype,"englishButton",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(Z.prototype,"arabicButton",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(Z.prototype,"floorTrigger",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(Z.prototype,"blocksContainer",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(Z.prototype,"scoreCardEndPosition",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(Z.prototype,"currentState",[Lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ct.SPLASH}}),J=Z))||J));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./BlockController.ts"],(function(o){var e,t,r,l,n,i,s,a,c,f,u,h;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.initializerDefineProperty,r=o.inheritsLoose,l=o.assertThisInitialized,n=o.createForOfIteratorHelperLoose},function(o){i=o.cclegacy,s=o._decorator,a=o.error,c=o.Component},function(o){f=o.GameManager},function(o){u=o.BlockController,h=o.BlockConfig}],execute:function(){var p,g,v,B,k,y,b,C,O,L,m,d,T,w,R,A;i._RF.push({},"56781TFh9BOVKPD9AOlZeOI","LevelController",void 0);var S=s.ccclass,E=s.property,N=o("BlockRow",(p=S("BlockRow"),g=E({type:[u],tooltip:"The blocks in this specific row."}),p((k=e((B=function(){t(this,"blocks",k,this)}).prototype,"blocks",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=B))||v)),M=function(o){return o[o.NORMAL=0]="NORMAL",o[o.BOOSTER=1]="BOOSTER",o[o.STONE=2]="STONE",o}(M||{});o("LevelController",(y=S("LevelController"),b=E({type:[N],tooltip:"The rows of blocks in the level. This defines the 2D layout."}),C=E({type:[h],tooltip:"The list of available 'Normal Block' configurations to choose from."}),O=E({type:[h],tooltip:"The list of available 'Booster Block' configurations to choose from."}),L=E({type:[h],tooltip:"The list of available 'Booster Block' configurations to choose from."}),y((T=e((d=function(o){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e=o.call.apply(o,[this].concat(n))||this,t(e,"rowLayout",T,l(e)),t(e,"normalBlockConfigs",w,l(e)),t(e,"boosterBlockConfigs",R,l(e)),t(e,"stoneBlockConfigs",A,l(e)),e}r(e,o);var i=e.prototype;return i.start=function(){this.generateLevel()},i.generateLevel=function(){if(0!==this.rowLayout.length)if(0!==this.normalBlockConfigs.length&&0!==this.boosterBlockConfigs.length&&0!==this.stoneBlockConfigs.length){for(var o,e=[],t=n(this.rowLayout);!(o=t()).done;){var r=o.value;e.push.apply(e,r.blocks),console.log("No of Blocks : "+e.length)}for(var l=0,i=e;l<i.length;l++){i[l].node.active=!1}var s=this.normalBlockConfigs.length,c=this.boosterBlockConfigs.length,u=this.stoneBlockConfigs.length;if(s+c>e.length)a("Total block count exceeds the number of available blocks in the scene!");else{for(var h=this.shuffleArray([].concat(this.normalBlockConfigs)),p=this.shuffleArray([].concat(this.boosterBlockConfigs)),g=this.shuffleArray([].concat(this.stoneBlockConfigs)),v=[],B=0;B<s;B++)v.push(M.NORMAL);for(var k=0;k<c;k++)v.push(M.BOOSTER);for(var y=0;y<u;y++)v.push(M.STONE);var b=0;for(this.shuffleArray(v);!this.isValidLayout(v,this.rowLayout)&&b<100;)this.shuffleArray(v),b++;b>=100&&console.warn("Could not find a valid block layout after 100 attempts. Using last layout (may be invalid).");for(var C=0;C<e.length;C++)if(C>=v.length)e[C].node.active=!1;else{console.log("currentBlock : "+C);var O,L=e[C],m=v[C],d=null;if(null===(d=m===M.BOOSTER&&p.length>0?p.pop():m===M.NORMAL&&h.length>0?h.pop():m===M.STONE&&g.length>0?g.pop():m===M.BOOSTER?h.pop():p.pop())&&(d=g.pop()),d)console.log(d.type),L.resetBlock(),L.setupBlock(d),null==(O=f.instance)||O.registerBlock(L)}}}else a("Block configs are not assigned in LevelController!");else a("No rows assigned to LevelController rowLayout!")},i.isValidLayout=function(o,e){for(var t,r=0,l=n(e);!(t=l()).done;){for(var i=t.value.blocks.length,s=o.slice(r,r+i),a=0;a<s.length-1;a++)if(s[a]===M.BOOSTER&&s[a+1]===M.BOOSTER)return!1;r+=i}return!0},i.shuffleArray=function(o){for(var e=o.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=[o[t],o[e]];o[e]=r[0],o[t]=r[1]}return o},e}(c)).prototype,"rowLayout",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(d.prototype,"normalBlockConfigs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=e(d.prototype,"boosterBlockConfigs",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(d.prototype,"stoneBlockConfigs",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=d))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationData.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){var T,P;E._RF.push({},"cba70VhzkND9I0H3OPU/shP","LocalizationData",void 0);var I=_("ETextKey",function(_){return _[_.ENGLISH=0]="ENGLISH",_[_.ARABIC=1]="ARABIC",_[_.PLAY=2]="PLAY",_[_.HOW_TO_PLAY=3]="HOW_TO_PLAY",_[_.HIGH_SCORE=4]="HIGH_SCORE",_[_.RESTART=5]="RESTART",_[_.INSTRUCTION_1=6]="INSTRUCTION_1",_[_.INSTRUCTION_2=7]="INSTRUCTION_2",_[_.INFO_1_TITLE=8]="INFO_1_TITLE",_[_.INFO_1_DESC=9]="INFO_1_DESC",_[_.INFO_2_TITLE=10]="INFO_2_TITLE",_[_.INFO_2_DESC=11]="INFO_2_DESC",_[_.INFO_3_TITLE=12]="INFO_3_TITLE",_[_.INFO_3_DESC=13]="INFO_3_DESC",_[_.POWERUP_1_TITLE=14]="POWERUP_1_TITLE",_[_.POWERUP_1_DESC=15]="POWERUP_1_DESC",_[_.POWERUP_2_TITLE=16]="POWERUP_2_TITLE",_[_.POWERUP_2_DESC=17]="POWERUP_2_DESC",_[_.POWERUP_3_TITLE=18]="POWERUP_3_TITLE",_[_.POWERUP_3_DESC=19]="POWERUP_3_DESC",_[_.POWERUP_4_TITLE=20]="POWERUP_4_TITLE",_[_.POWERUP_4_DESC=21]="POWERUP_4_DESC",_[_.x5=22]="x5",_[_.x4=23]="x4",_[_.TAP_QR=24]="TAP_QR",_[_.EMPTY=25]="EMPTY",_}({}));_("localizationData",{en:(T={},T[I.ENGLISH]="ENGLISH",T[I.ARABIC]="عربي",T[I.PLAY]="PLAY",T[I.HOW_TO_PLAY]="HOW TO PLAY",T[I.HIGH_SCORE]="YOUR HIGH SCORE !",T[I.RESTART]="RESTART",T[I.INSTRUCTION_1]="Liv Spheres\nto destroy\nexpenses!",T[I.INSTRUCTION_2]="Golden Liv\nblocks for\nextra coins!",T[I.INFO_1_TITLE]="Break Expenses!",T[I.INFO_1_DESC]="Use the Liv Sphere to\nbreak open the expense\nblocks and earn coins",T[I.INFO_2_TITLE]="Liv Power Ups!",T[I.INFO_2_DESC]="Liv's golden blocks will\ngive you extra coins and\nchance to win big!",T[I.INFO_3_TITLE]="Download LivX",T[I.INFO_3_DESC]="Download the Liv X app to\nearn 4% real rewards",T[I.POWERUP_1_TITLE]="Liv Goal",T[I.POWERUP_1_DESC]="Coin Magnet",T[I.POWERUP_2_TITLE]="Liv Card",T[I.POWERUP_2_DESC]="Double Bounce",T[I.POWERUP_3_TITLE]="Liv Prime",T[I.POWERUP_3_DESC]="2x Multiplier",T[I.POWERUP_4_TITLE]="Livionaire",T[I.POWERUP_4_DESC]="10x Coins",T[I.x5]="5",T[I.x4]="4",T[I.TAP_QR]="Tap to download!",T[I.EMPTY]="",T),ar:(P={},P[I.ENGLISH]="ENGLISH",P[I.ARABIC]="عربي",P[I.PLAY]="العب",P[I.HOW_TO_PLAY]="كيفية اللعب",P[I.HIGH_SCORE]="أعلى نتيجة !",P[I.RESTART]="إعادة البدء",P[I.INSTRUCTION_1]="كرات ليف \nلتدمير\n النفقات!",P[I.INSTRUCTION_2]="كتل ليف الذهبية\n للحصول على\n عملات إضافية!",P[I.INFO_1_TITLE]="تخفيض النفقات!",P[I.INFO_1_DESC]="استخدم كرة ليف لـ\nفتح النفقات\nالكتل وكسب العملات المعدنية",P[I.INFO_2_TITLE]="تعزيزات ليف!",P[I.INFO_2_DESC]="سوف كتل ليف الذهبية\nأعطيك عملات معدنية إضافية و\nفرصة للفوز الكبير",P[I.INFO_3_TITLE]="تنزيل LivX",P[I.INFO_3_DESC]="قم بتنزيل تطبيق Liv X لـ\nاحصل على 4% مكافآت حقيقية",P[I.POWERUP_1_TITLE]="هدف ليف",P[I.POWERUP_1_DESC]="مغناطيس",P[I.POWERUP_2_TITLE]="بطاقة ليف",P[I.POWERUP_2_DESC]="ارتداد مزدوج",P[I.POWERUP_3_TITLE]="لايف برايم",P[I.POWERUP_3_DESC]="مضاعف 2X",P[I.POWERUP_4_TITLE]="ليفيونيير",P[I.POWERUP_4_DESC]="10 عملات معدنية",P[I.x5]="٥",P[I.x4]="٤",P[I.TAP_QR]="انقر للتحميل!",P[I.EMPTY]="",P)});E._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationData.ts"],(function(n){var a,e,t,r,o,u,g;return{setters:[function(n){a=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,r=n.EventTarget,o=n.sys,u=n.Component},function(n){g=n.localizationData}],execute:function(){var i,c;e._RF.push({},"36877YA0K5DyIN9iESS7lAe","LocalizationManager",void 0);var l=t.ccclass,s=(t.property,n("languageChangeEvent",new r));n("LocalizationManager",l("LocalizationManager")(((c=function(n){function e(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(a=n.call.apply(n,[this].concat(t))||this).currentLanguage="en",a}a(e,n);var t=e.prototype;return t.onLoad=function(){if(null===e.instance){e.instance=this;var n=o.localStorage.getItem("user_language");this.setLanguage(n||"en")}else this.destroy()},t.setLanguage=function(n){g[n]?(this.currentLanguage=n,o.localStorage.setItem("user_language",n),console.log("Language changed to: "+n),s.emit("language-changed")):(console.warn("Language '"+n+"' not found in data. Defaulting to 'en'."),this.currentLanguage="en")},t.getCurrentLanguage=function(){return this.currentLanguage},t.getTranslation=function(n){var a=g[this.currentLanguage];if(!a)return console.warn("Translation data for language '"+this.currentLanguage+"' not found."),"MISSING_LANG: "+n;var e=a[n];return null==e?(console.warn("Missing translation for key: "+n+" in language: "+this.currentLanguage),"MISSING_KEY: "+n):e},t.getHorizontalAlign=function(){return"ar"===this.currentLanguage?2:0},t.getFontSizeMultiplayer=function(){return"ar"===this.currentLanguage?1.5:1},e}(u)).instance=null,i=c))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationData.ts","./LocalizationManager.ts"],(function(t){var e,n,i,a,o,l,r,u,c,s,g,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,r=t.Enum,u=t.Label,c=t.sys,s=t.Component},function(t){g=t.ETextKey},function(t){p=t.languageChangeEvent,f=t.LocalizationManager}],execute:function(){var h,z,b,d,y,L,x,S,m,v;o._RF.push({},"7b2f5N20NVMFo5I7zD4VUqQ","LocalizedLabel",void 0);var T=l.ccclass,A=l.property;r(g);t("LocalizedLabel",(h=T("LocalizedLabel"),z=A({type:g}),b=A(),d=A(),h((x=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"textKey",x,a(e)),i(e,"updateHorizontalAlign",S,a(e)),i(e,"defaultFontSize",m,a(e)),i(e,"fontSizeMultiplayer",v,a(e)),e.label=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.label=this.getComponent(u),p.on("language-changed",this.updateText,this)},o.start=function(){var t=c.localStorage.getItem("user_language");f.instance.setLanguage(t||"en"),this.updateText()},o.onDestroy=function(){p.off("language-changed",this.updateText,this)},o.SetText=function(t){this.textKey=t,this.updateText()},o.updateText=function(){this.label&&f.instance&&(this.label.string=f.instance.getTranslation(this.textKey),this.updateHorizontalAlign&&(this.label.horizontalAlign=f.instance.getHorizontalAlign()),"ar"===f.instance.getCurrentLanguage()&&(this.label.fontSize=this.defaultFontSize*this.fontSizeMultiplayer))},e}(s)).prototype,"textKey",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.PLAY}}),S=e(L.prototype,"updateHorizontalAlign",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=e(L.prototype,"defaultFontSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),v=e(L.prototype,"fontSizeMultiplayer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1.5}}),y=L))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationData.ts","./LocalizationManager.ts"],(function(e){var t,n,i,r,a,o,c,l,u,s,p,g,h,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Enum,l=e.SpriteFrame,u=e.Sprite,s=e.sys,p=e.Component},function(e){g=e.ETextKey},function(e){h=e.languageChangeEvent,f=e.LocalizationManager}],execute:function(){var d,y,b,z,L,S,m,v,I;a._RF.push({},"d4665RG67hBzpYsmcBJnjF7","LocalizedSprite",void 0);var D=o.ccclass,F=o.property;c(g);e("LocalizedSprite",(d=D("LocalizedSprite"),y=F({type:l}),b=F({type:l}),z=F({type:u}),d((m=t((S=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"englishIcon",m,r(t)),i(t,"arabicIcon",v,r(t)),i(t,"sprite",I,r(t)),t}n(t,e);var a=t.prototype;return a.onLoad=function(){h.on("language-changed",this.updateSprite,this)},a.onDestroy=function(){h.off("language-changed",this.updateSprite,this)},a.start=function(){var e=s.localStorage.getItem("user_language");f.instance.setLanguage(e||"en"),this.updateSprite()},a.updateSprite=function(){this.sprite&&f.instance&&(this.sprite.spriteFrame="en"===f.instance.getCurrentLanguage()?this.englishIcon:this.arabicIcon)},t}(p)).prototype,"englishIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(S.prototype,"arabicIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(S.prototype,"sprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S))||L));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./BallController.ts","./BlockController.ts","./CameraShaker.ts","./GameManager.ts","./LevelController.ts","./LocalizationData.ts","./LocalizationManager.ts","./LocalizedLabel.ts","./LocalizedSprite.ts","./PlatformManager.ts","./PlayerController.ts","./PlayerVFX.ts","./SlingshotVisuals.ts","./Tagger.ts","./TrajectoryController.ts","./VFXManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlatformManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var e,t,r,n,a,i,l,p,s;return{setters:[function(o){e=o.applyDecoratedDescriptor,t=o.inheritsLoose,r=o.initializerDefineProperty,n=o.assertThisInitialized},function(o){a=o.cclegacy,i=o._decorator,l=o.warn,p=o.sys,s=o.Component}],execute:function(){var c,u,f,d,g,w,U,h,b,m,y;a._RF.push({},"2c2e1TDsvNItJVlGmyctCHF","PlatformManager",void 0);var L=i.ccclass,S=i.property;o("PlatformManager",(c=L("PlatformManager"),u=S({tooltip:"URL for Google play store"}),f=S({tooltip:"The URL for the Apple App Store."}),d=S({tooltip:"The URL for the Windows Store or a fallback website."}),g=S({tooltip:"A fallback URL for any other platform (Mac, Linux, etc.)."}),c((h=e((U=function(o){function e(){for(var e,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=o.call.apply(o,[this].concat(a))||this,r(e,"androidStoreUrl",h,n(e)),r(e,"iosStoreUrl",b,n(e)),r(e,"windowsStoreUrl",m,n(e)),r(e,"fallbackUrl",y,n(e)),e.userAgent="",e}t(e,o);var a=e.prototype;return a.onLoad=function(){navigator&&(this.userAgent=navigator.userAgent||navigator.vendor||window.opera)},a.openStoreForPlatform=function(){if(!this.userAgent)return l("User agent not found. Opening fallback URL."),void p.openURL(this.fallbackUrl);var o=this.userAgent.toLowerCase();/iphone|ipad|ipod/.test(o)?(console.log("Platform: iOS detected. Opening App Store."),p.openURL(this.iosStoreUrl)):/android/.test(o)?(console.log("Platform: Android detected. Opening Play Store."),p.openURL(this.androidStoreUrl)):/windows/.test(o)?(console.log("Platform: Windows detected. Opening Windows URL."),p.openURL(this.windowsStoreUrl)):(console.log("Platform: Unknown/Fallback. Opening fallback URL."),p.openURL(this.fallbackUrl))},e}(s)).prototype,"androidStoreUrl",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://play.google.com/store/apps/details?id=com.yourapp.id"}}),b=e(U.prototype,"iosStoreUrl",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://apps.apple.com/app/your-app-name/id123456789"}}),m=e(U.prototype,"windowsStoreUrl",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://www.your-website.com/download"}}),y=e(U.prototype,"fallbackUrl",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"https://www.google.com"}}),w=U))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./TrajectoryController.ts","./SlingshotVisuals.ts","./AudioManager.ts","./BallController.ts"],(function(t){var e,n,i,r,o,l,a,s,u,h,c,p,g,y,f,m,d,v,b,T,C,P,B,S,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,a=t.Prefab,s=t.Node,u=t.Camera,h=t.Canvas,c=t.instantiate,p=t.RigidBody2D,g=t.director,y=t.input,f=t.Input,m=t.v3,d=t.Vec3,v=t.v2,b=t.Component},function(t){T=t.GameManager,C=t.GameState},function(t){P=t.TrajectoryController},function(t){B=t.SlingshotVisuals},function(t){S=t.AudioManager},function(t){A=t.BallController}],execute:function(){var E,I,L,w,M,_,N,W,j,D,z,x,G,O,U,R,V,H,F,q,k,J,Y,Z,K;o._RF.push({},"15f64yUe4pERZqLgE7p7tJf","PlayerController",void 0);var Q=l.ccclass,X=l.property;t("PlayerController",(E=Q("PlayerController"),I=X({type:S}),L=X({type:a,tooltip:"Drag the Ball prefab here"}),w=X({type:s,tooltip:"Drag an empty node from the slingshot's center here"}),M=X({type:s,tooltip:"Drag an empty node from the slingshot's bottom limit here"}),_=X({type:s,tooltip:"Drag an empty node from the slingshot's bottom limit here"}),N=X({type:s,tooltip:"Drag an empty node from the slingshot's bottom limit here"}),W=X({type:B,tooltip:"The script that draws the slingshot bands."}),j=X({type:P,tooltip:"Drag the Trajectory node here"}),D=X({tooltip:"Multiplier for the launch force."}),z=X({type:u,tooltip:"The main game camera used for coordinate conversion"}),x=X({type:h,tooltip:"The main game canvas node for particles"}),E((U=e((O=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"audioManager",U,r(e)),i(e,"ballPrefab",R,r(e)),i(e,"slingshotAnchor",V,r(e)),i(e,"slingshotBottomLimit",H,r(e)),i(e,"slingshotLeftLimit",F,r(e)),i(e,"slingshotRightLimit",q,r(e)),i(e,"slingshotVisuals",k,r(e)),i(e,"trajectory",J,r(e)),i(e,"launchPower",Y,r(e)),i(e,"mainCamera",Z,r(e)),i(e,"parentCanvas",K,r(e)),e.currentBall=null,e}n(e,t);var o=e.prototype;return o.spawnNewBall=function(){if(this.ballPrefab&&this.slingshotAnchor){this.currentBall&&this.currentBall.destroy(),this.currentBall=c(this.ballPrefab),this.currentBall.active=!0,this.node.parent.addChild(this.currentBall),this.currentBall.setWorldPosition(this.slingshotAnchor.getWorldPosition());var t=this.currentBall.getComponent(p);t&&this.scheduleOnce((function(){t&&t.isValid&&t.sleep()}),0)}else console.error("Ball Prefab or Slingshot Anchor not assigned in PlayerController!")},o.onLoad=function(){var t,e;this.mainCamera||(this.mainCamera=null==(e=g.getScene())?void 0:e.getComponentInChildren(u),this.mainCamera||console.error("PlayerController: Main Camera is not assigned and could not be found!"));this.registerInputEvents(),null==(t=this.trajectory)||t.hideTrajectory()},o.onDestroy=function(){this.unregisterInputEvents()},o.registerInputEvents=function(){y.on(f.EventType.TOUCH_START,this.onTouchStart,this),y.on(f.EventType.TOUCH_MOVE,this.onTouchMove,this),y.on(f.EventType.TOUCH_END,this.onTouchEnd,this),y.on(f.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.unregisterInputEvents=function(){y.off(f.EventType.TOUCH_START,this.onTouchStart,this),y.off(f.EventType.TOUCH_MOVE,this.onTouchMove,this),y.off(f.EventType.TOUCH_END,this.onTouchEnd,this),y.off(f.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},o.onTouchStart=function(t){var e,n;(null==(e=T.instance)?void 0:e.currentState)===C.WAITING_FOR_INPUT&&this.currentBall&&(T.instance.setGameState(C.AIMING),null==(n=this.slingshotVisuals)||n.startAim(this.currentBall),this.currentBall.getComponent(A).setParticleParent(this.parentCanvas),this.audioManager.playStretchSfx(),this.handleDragEvent(t))},o.onTouchMove=function(t){var e;(null==(e=T.instance)?void 0:e.currentState)===C.AIMING&&this.currentBall&&this.handleDragEvent(t)},o.handleDragEvent=function(t){var e=this.slingshotAnchor.getWorldPosition(),n=this.slingshotBottomLimit.getWorldPosition(),i=this.slingshotLeftLimit.getWorldPosition(),r=this.slingshotRightLimit.getWorldPosition(),o=t.getLocation(),l=m();this.mainCamera.screenToWorld(m(o.x,o.y,0),l),l.y>e.y&&(l.y=e.y),l.y<n.y&&(l.y=n.y),l.x<i.x&&(l.x=i.x),l.x>r.x&&(l.x=r.x),l.z=e.z,this.currentBall.setWorldPosition(l);var a=m();d.subtract(a,l,e);var s=m();d.multiplyScalar(s,a,-1);var u,h,c=v(s.x,s.y).multiplyScalar(this.launchPower);c.lengthSqr()>100?null==(u=this.trajectory)||u.showTrajectory(l,c):null==(h=this.trajectory)||h.hideTrajectory()},o.onTouchEnd=function(t){var e,n,i;if((null==(e=T.instance)?void 0:e.currentState)===C.AIMING&&this.currentBall){null==(n=this.trajectory)||n.hideTrajectory(),null==(i=this.slingshotVisuals)||i.endAim();var r=this.slingshotAnchor.getWorldPosition(),o=this.currentBall.getWorldPosition(),l=m();d.subtract(l,o,r);var a=m();d.multiplyScalar(a,l,-1);var s=v(a.x,a.y);if(s.lengthSqr()<100)return T.instance.setGameState(C.WAITING_FOR_INPUT),void(this.currentBall&&this.currentBall.setWorldPosition(this.slingshotAnchor.getWorldPosition()));T.instance.setGameState(C.BALL_IN_PLAY);var u=this.currentBall.getComponent(p);if(u){u.wakeUp();var h=s.multiplyScalar(this.launchPower);u.linearVelocity=h,this.audioManager.playShotFiredSfx()}this.currentBall=null}},o.onTouchCancel=function(t){var e,n,i;(null==(e=T.instance)?void 0:e.currentState)===C.AIMING&&(null==(n=this.trajectory)||n.hideTrajectory(),null==(i=this.slingshotVisuals)||i.endAim(),T.instance.setGameState(C.WAITING_FOR_INPUT),this.currentBall&&this.currentBall.setWorldPosition(this.slingshotAnchor.getWorldPosition()))},e}(b)).prototype,"audioManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(O.prototype,"ballPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(O.prototype,"slingshotAnchor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(O.prototype,"slingshotBottomLimit",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(O.prototype,"slingshotLeftLimit",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(O.prototype,"slingshotRightLimit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(O.prototype,"slingshotVisuals",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(O.prototype,"trajectory",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(O.prototype,"launchPower",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2.5}}),Z=e(O.prototype,"mainCamera",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(O.prototype,"parentCanvas",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=O))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts"],(function(t){var e,i,r,n,a,o,p,l,u,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,p=t.Sprite,l=t.UIOpacity,u=t.SpriteFrame,s=t.Component},function(t){c=t.EObjectType}],execute:function(){var h,f,d,y,S,F,g,b,m,v,X,V,x,O,w,I,P;a._RF.push({},"4ed79/V49lP2KZV/g4snoAn","PlayerVFX",void 0);var D=o.ccclass,z=o.property,k=function(t){return t[t.Idle=0]="Idle",t[t.FadingIn=1]="FadingIn",t[t.Holding=2]="Holding",t[t.FadingOut=3]="FadingOut",t}(k||{});t("PlayerVFX",(h=D("PlayerVFX"),f=z(p),d=z(l),y=z({type:u}),S=z({type:u}),F=z({type:u}),g=z({type:u}),b=z({type:u}),h((X=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"vfxSprite",X,n(e)),r(e,"vfxOpacity",V,n(e)),r(e,"defaultVFXSprite",x,n(e)),r(e,"speedVFXSprite",O,n(e)),r(e,"magnetVFXSprite",w,n(e)),r(e,"twoXVFXSprite",I,n(e)),r(e,"shieldVFXSprite",P,n(e)),e.currentState=k.Idle,e.timer=0,e.fadeInDuration=.1,e.holdDuration=.35,e.fadeOutDuration=.25,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.vfxSprite&&this.vfxOpacity&&(this.vfxOpacity.opacity=0)},a.update=function(t){if(this.vfxOpacity)switch(this.currentState){case k.FadingIn:this.timer+=t,this.vfxOpacity.opacity=Math.min(255,this.timer/this.fadeInDuration*255),this.timer>=this.fadeInDuration&&(this.vfxOpacity.opacity=255,this.currentState=k.Holding,this.timer=0);break;case k.Holding:this.timer+=t,this.timer>=this.holdDuration&&(this.currentState=k.FadingOut,this.timer=0);break;case k.FadingOut:this.timer+=t,this.vfxOpacity.opacity=Math.max(0,255-this.timer/this.fadeOutDuration*255),this.timer>=this.fadeOutDuration&&(this.vfxOpacity.opacity=0,this.currentState=k.Idle,this.vfxSprite&&(this.vfxSprite.spriteFrame=null));break;case k.Idle:}},a.playVFX=function(t){if(void 0===t&&(t=c.None),this.vfxSprite&&this.vfxOpacity&&this.currentState===k.Idle){var e=null;switch(t){case c.PowerupSpeed:e=this.speedVFXSprite;break;case c.PowerupMagnet:e=this.magnetVFXSprite;break;case c.Powerup2x:e=this.twoXVFXSprite;break;case c.PowerupShield:e=this.shieldVFXSprite;break;default:e=this.defaultVFXSprite}(e||(console.warn("PlayerVFX: No sprite frame assigned for active powerup type or default."),e=this.defaultVFXSprite))&&(this.vfxSprite.spriteFrame=e,this.vfxOpacity.opacity=0,this.currentState=k.FadingIn,this.timer=0,this.node.parent&&this.node.setSiblingIndex(this.node.parent.children.length-1))}},e}(s)).prototype,"vfxSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(v.prototype,"vfxOpacity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(v.prototype,"defaultVFXSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(v.prototype,"speedVFXSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"magnetVFXSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"twoXVFXSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(v.prototype,"shieldVFXSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/SlingshotVisuals.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,o,n,e,a,r,s,l,h,c,u,g,p,f;return{setters:[function(i){t=i.applyDecoratedDescriptor,o=i.inheritsLoose,n=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Node,l=i.v3,h=i.v2,c=i.Graphics,u=i.director,g=i.Camera,p=i.Canvas,f=i.Component}],execute:function(){var d,m,v,T,y,A,C,b,L;a._RF.push({},"fac23MzD8JMULd94v5TQuVJ","SlingshotVisuals",void 0);var N=r.ccclass,k=r.property;i("SlingshotVisuals",(d=N("SlingshotVisuals"),m=k({type:s,tooltip:"The world-space anchor for the left 'fork' of the slingshot."}),v=k({type:s,tooltip:"The world-space anchor for the right 'fork' of the slingshot."}),T=k({tooltip:"The thickness of the slingshot bands."}),d((C=t((A=function(i){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"anchorLeft",C,e(t)),n(t,"anchorRight",b,e(t)),n(t,"lineWidth",L,e(t)),t.graphics=null,t.mainCamera=null,t.canvasNode=null,t.localAnchorLeft=l(),t.localAnchorRight=l(),t.isAiming=!1,t.currentDragPos_Screen=h(),t.ballToTrack=null,t}o(t,i);var a=t.prototype;return a.onLoad=function(){var i,t;if(this.graphics=this.getComponent(c),this.graphics){this.mainCamera=null==(i=u.getScene())?void 0:i.getComponentInChildren(g);var o=null==(t=u.getScene())?void 0:t.getComponentInChildren(p);o&&(this.canvasNode=o.node),this.mainCamera&&this.canvasNode?(this.graphics.lineWidth=this.lineWidth,this.calculateLocalAnchors()):console.error("SlingshotVisuals could not find the Camera or Canvas!")}else console.error("SlingshotVisuals requires a Graphics component on the same node!")},a.calculateLocalAnchors=function(){if(this.anchorLeft&&this.anchorRight){var i=this.anchorLeft.getWorldPosition();this.mainCamera.convertToUINode(i,this.canvasNode,this.localAnchorLeft);var t=this.anchorRight.getWorldPosition();this.mainCamera.convertToUINode(t,this.canvasNode,this.localAnchorRight)}},a.startAim=function(i){this.ballToTrack=i,this.isAiming=!0},a.endAim=function(){var i;this.isAiming=!1,this.ballToTrack=null,null==(i=this.graphics)||i.clear()},a.updateDragPosition=function(){},a.lateUpdate=function(){var i;if(null==(i=this.graphics)||i.clear(),this.isAiming&&this.graphics&&this.ballToTrack&&this.mainCamera&&this.canvasNode){var t=this.ballToTrack.getWorldPosition(),o=l();this.mainCamera.convertToUINode(t,this.canvasNode,o),this.graphics.moveTo(this.localAnchorLeft.x,this.localAnchorLeft.y),this.graphics.lineTo(o.x,o.y),this.graphics.moveTo(this.localAnchorRight.x,this.localAnchorRight.y),this.graphics.lineTo(o.x,o.y),this.graphics.stroke()}},t}(f)).prototype,"anchorLeft",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(A.prototype,"anchorRight",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(A.prototype,"lineWidth",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),y=A))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Tagger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,o,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Enum,s=e.Component}],execute:function(){var l,p,u,g,f;o._RF.push({},"def5db2VCdHRpzCdcJYttKF","Tagger",void 0);var L=c.ccclass,y=c.property,d=e("EObjectType",function(e){return e[e.NONE=0]="NONE",e[e.BALL=1]="BALL",e[e.BLOCK=2]="BLOCK",e[e.FLOOR=7]="FLOOR",e[e.WALL=8]="WALL",e}({}));a(d);e("Tagger",(l=L("Tagger"),p=y({type:d,tooltip:"Assign a specific type to this game object for collision detection."}),l((f=t((g=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"tag",f,n(t)),t}return r(t,e),t}(s)).prototype,"tag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.NONE}}),u=g))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrajectoryController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts","./BlockController.ts"],(function(t){var e,r,o,i,n,a,l,s,c,u,p,h,y,f,m,d,b,g,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createForOfIteratorHelperLoose},function(t){a=t.cclegacy,l=t._decorator,s=t.Prefab,c=t.v2,u=t.UITransform,p=t.instantiate,h=t.PhysicsSystem2D,y=t.ERaycast2DType,f=t.v3,m=t.Component},function(t){d=t.Tagger,b=t.EObjectType},function(t){g=t.BlockController,v=t.EBlockType}],execute:function(){var T,x,P,j,S,C,w,B,I,D,k,z,G,O,E,L,R;a._RF.push({},"db7bcoiFj1HY4R9v8Zw3X+l","TrajectoryController",void 0);var F=l.ccclass,M=l.property;t("TrajectoryController",(T=F("TrajectoryController"),x=M({type:s,tooltip:"The prefab for a single dot in the trajectory line."}),P=M({tooltip:"Maximum number of points to draw for the trajectory."}),j=M({tooltip:"The time interval between each predicted point on the trajectory."}),S=M({tooltip:"Maximum number of bounces to predict."}),C=M({type:Number,tooltip:"The physics group index for Walls. Find this in Project -> Project Settings -> Physics -> Grouping.",min:0}),w=M({type:Number,tooltip:"The physics group index for Tiles. Find this in Project -> Project Settings -> Physics -> Grouping.",min:0}),B=M({type:Number,tooltip:"The gravity force on the Y-axis. Should match your Project's Physics settings."}),T((k=e((D=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"dotPrefab",k,i(e)),o(e,"maxPoints",z,i(e)),o(e,"timeStep",G,i(e)),o(e,"maxBounces",O,i(e)),o(e,"wallGroupIndex",E,i(e)),o(e,"tileGroupIndex",L,i(e)),o(e,"gravityY",R,i(e)),e.dots=[],e.uiTransform=null,e.collisionMask=0,e.gravity=c(0,0),e}r(e,t);var a=e.prototype;return a.onLoad=function(){if(this.uiTransform=this.getComponent(u),this.uiTransform)if(this.dotPrefab){var t=1<<this.wallGroupIndex,e=1<<this.tileGroupIndex;this.collisionMask=t|e,this.gravity=c(0,this.gravityY);for(var r=0;r<this.maxPoints;r++){var o=p(this.dotPrefab);o.active=!1,this.node.addChild(o),this.dots.push(o)}}else console.error("Dot Prefab not assigned in TrajectoryController!");else console.error("CRITICAL: The 'Trajectory' node is missing a UITransform component.")},a.showTrajectory=function(t,e){if(0!==this.dots.length&&this.uiTransform){this.hideTrajectory();for(var r=c(t.x,t.y),o=e.clone(),i=0,n=this.maxBounces,a=0;a<this.maxPoints;a++){var l=o.clone().multiplyScalar(this.timeStep),s=r.clone().add(l),u=h.instance.raycast(r,s,y.Any,this.collisionMask);if(u.length>0){var p=u[0],m=p.point,T=p.collider,x=T.getComponent(d);if(x&&x.tag===b.BLOCK){var P=T.getComponent(g),j=null==P?void 0:P.getBlockType();if(j===v.STONE){this.placeDot(a,f(m.x,m.y,0));break}j===v.BOOSTER_DOUBLE_BOUNCE&&n++}if(this.placeDot(a,f(m.x,m.y,0)),++i>=n)break;r=m;var S=o.dot(p.normal);o.subtract(p.normal.multiplyScalar(2*S)),r.add(o.clone().normalize().multiplyScalar(.1))}else this.placeDot(a,f(s.x,s.y,0)),r=s;this.gravity.lengthSqr()>0&&o.add(this.gravity.clone().multiplyScalar(this.timeStep))}}},a.placeDot=function(t,e){if(!(t>=this.dots.length)){var r=this.dots[t],o=this.uiTransform.convertToNodeSpaceAR(e);r.setPosition(o),r.active=!0}},a.hideTrajectory=function(){for(var t,e=n(this.dots);!(t=e()).done;){t.value.active=!1}},e}(m)).prototype,"dotPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"maxPoints",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),G=e(D.prototype,"timeStep",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.08}}),O=e(D.prototype,"maxBounces",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),E=e(D.prototype,"wallGroupIndex",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),L=e(D.prototype,"tileGroupIndex",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(D.prototype,"gravityY",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-320}}),I=D))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/VFXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var t,n,o,r,a,c,i,l,f;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.instantiate,a=e.ParticleSystem2D,c=e.Vec3,i=e.NodePool,l=e.Component},function(e){f=e.GameManager}],execute:function(){var s;n._RF.push({},"b519d6p5ZBDjYjwhRdSLa9f","VFXManager",void 0);var u=o.ccclass;o.property,e("VFXManager",u("VFXManager")(s=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).hitPool=new i,t.collectPool=new i,t}t(n,e);var o=n.prototype;return o.onLoad=function(){},o.initPool=function(e,t,n){if(t)for(var o=0;o<n;o++){var a=r(t);e.put(a)}},o.playHitEffect=function(){},o.playCollectEffect=function(){},o.playEffect=function(e,t){if(t){var n=f.instance;if(n&&n.playerController){var o=n.playerController.node,i=e.size()>0?e.get():r(t);if(i){var l=i.getComponent(a);l?(l.resetSystem(),o.addChild(i),i.setPosition(c.ZERO),this.scheduleOnce((function(){e.put(i)}),l.life+l.duration)):i.destroy()}}else console.error("Player controller not found for FX!")}},n}(l))||s);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});